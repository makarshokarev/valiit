<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Accounts</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body data-new-gr-c-s-check-loaded="14.984.0" data-gr-ext-installed="">
<header>
    <nav class="navbar navbar-expand navbar-dark bg-dark">
        <a href="#" class="navbar-brand d-flex align-items-center">
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" width="20px" height="20px" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve">
                        <g>
                            <polygon fill="#f2f2f2" points="451.5,132.5 451.482,132.5 353.74,89.5 256,46.5 158.26,89.5 60.519,132.5 60.5,132.5 60.5,182.5    451.5,182.5  "/>
                            <path fill="#f2f2f2" d="M99,365.5c-5.799,0-10.5,4.701-10.5,10.5s4.701,10.5,10.5,10.5h62c5.799,0,10.5-4.701,10.5-10.5   s-4.701-10.5-10.5-10.5h-3.5v-150h3.5c5.799,0,10.5-4.701,10.5-10.5s-4.701-10.5-10.5-10.5H99c-5.799,0-10.5,4.701-10.5,10.5   s4.701,10.5,10.5,10.5h3.5v150H99z"/>
                            <path fill="#f2f2f2" d="M225,365.5c-5.799,0-10.5,4.701-10.5,10.5s4.701,10.5,10.5,10.5h62c5.799,0,10.5-4.701,10.5-10.5   s-4.701-10.5-10.5-10.5h-3.5v-150h3.5c5.799,0,10.5-4.701,10.5-10.5s-4.701-10.5-10.5-10.5h-62c-5.799,0-10.5,4.701-10.5,10.5   s4.701,10.5,10.5,10.5h3.5v150H225z"/>
                            <path fill="#f2f2f2" d="M353,365.5c-5.799,0-10.5,4.701-10.5,10.5s4.701,10.5,10.5,10.5h62c5.799,0,10.5-4.701,10.5-10.5   s-4.701-10.5-10.5-10.5h-3.5v-150h3.5c5.799,0,10.5-4.701,10.5-10.5s-4.701-10.5-10.5-10.5h-62c-5.799,0-10.5,4.701-10.5,10.5   s4.701,10.5,10.5,10.5h3.5v150H353z"/>
                            <path fill="#f2f2f2" d="M60.51,408.5v6c0,5.522,4.477,10,10,10h370.98c5.522,0,10-4.478,10-10v-6c0-5.522-4.478-10-10-10H70.51   C64.987,398.5,60.51,402.977,60.51,408.5z"/>
                            <path fill="#f2f2f2" d="M467.5,436.5h-423c-5.523,0-10,4.478-10,10v9c0,5.522,4.477,10,10,10h423c5.522,0,10-4.478,10-10v-9   C477.5,440.977,473.023,436.5,467.5,436.5z"/>
                        </g>
                    </svg>
            <strong>Bank</strong>
        </a>
        <div class="collapse navbar-collapse" id="navbarsExample02">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                    <a class="nav-item nav-link" href="http://localhost:8080/create_client.html">Create Client</a>
                </li>
                <li class="nav-item">
                    <a class="nav-item nav-link" href="http://localhost:8080/create_acc.html">Create Account</a>
                </li>
                <li class="nav-item">
                    <a class="nav-item nav-link" href="http://localhost:8080/deposit.html">Deposit</a>
                </li>
                <li class="nav-item">
                    <a class="nav-item nav-link" href="http://localhost:8080/withdraw.html">Withdraw</a>
                </li>
                <li class="nav-item">
                    <a class="nav-item nav-link" href="http://localhost:8080/transfer.html">Transfer</a>
                </li>
            </ul>
            <ul class="navbar-nav mr-right">
                <li class="nav-item">
                    <a class="nav-item nav-link" href="http://localhost:8080/get_clients.html">Clients</a>
                </li>
                <li class="nav-item">
                    <a class="nav-item nav-link" href="http://localhost:8080/get_acc.html">Accounts</a>
                </li>
                <li class="nav-item">
                    <a class="nav-item nav-link" href="http://localhost:8080/history.html">History</a>
                </li>
            </ul>
        </div>
    </nav>
</header>
    <main role="main">

        <section class="jumbotron text-center">
            <div align="center">
                <img width="100" src="https://png2.cleanpng.com/sh/347e69b6d4d7110f44f51091c3ca7df7/L0KzQYm3U8I5N5VriZH0aYP2gLBuTfNwdaF6jNd7LXnmf7B6TfJidpwygdV4bj3ndcTwhB4ue5R3fdd3c3jyhH7pgf5sNWZmetQ8NHPpc7O7WcgzNmk5SqY7MEKzQYa5UsIyQGIASao8MkexgLBu/kisspng-computer-icons-bank-icon-design-screenshot-bank-5abb34cfcb4982.8424202015222181918327.png"/>
                <h1>All Accounts</h1>
                <div class="col-md-6 text-center">
                    <table class="table table-striped">
                        <thead>
                        <tr>
                            <th scope="col">#id</th>
                            <th scope="col">Account Nr</th>
                            <th scope="col">Balance</th>
                            <th scope="col">Client Id</th>
                        </tr>
                        </thead>
                        <tbody id="myTable">
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
    </main>

    <footer class="text-muted">
        <div class="container">
            <p>Created within Vali IT programing courses.</p>
            <p>Makar Sokarev <a href="https://www.linkedin.com/in/makarshokarev/">Visit my LinkedIn</a></p>
        </div>
    </footer>
    <script>
            fetch("http://localhost:8080/bank/account").then(
                function (result) {
                    console.log(result);
                    return result.json();
                }
            ).then(
                function (result) {
                    console.log(result);
                    let table = document.getElementById("myTable");
                    for (let i = 0; i < result.length; i++) {
                        let newRow = document.createElement("tr");
                        let newCell1 = document.createElement("td");
                        newCell1.innerText = result[i].id;
                        newRow.append(newCell1);
                        let newCell2 = document.createElement("td");
                        newCell2.innerText = result[i].accountNr;
                        newRow.append(newCell2);
                        let newCell3 = document.createElement("td");
                        newCell3.innerText = result[i].money;
                        newRow.append(newCell3);
                        let newCell4 = document.createElement("td");
                        newCell4.innerText = result[i].userId;
                        newRow.append(newCell4);
                        table.append(newRow)
                    }
                }
            )
    </script>
</body>
</html>
